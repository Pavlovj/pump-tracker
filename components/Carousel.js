import axios from 'axios'
import React, { useEffect, useState } from 'react'
import { CurrencyState } from '../contexts/currencyContext'

import { Swiper, SwiperSlide } from "swiper/react";
import "swiper/css";
import "swiper/css/free-mode";
import "swiper/css/pagination";
import "swiper/css/navigation";


import { Autoplay, Pagination, Navigation, FreeMode } from "swiper";

const data = [{ "id": "bitcoin", "symbol": "btc", "name": "Bitcoin", "image": "https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579", "current_price": 22892, "market_cap": 437522833142, "market_cap_rank": 1, "fully_diluted_valuation": 480820916990, "total_volume": 30958633586, "high_24h": 23549, "low_24h": 22796, "price_change_24h": -335.43915248440317, "price_change_percentage_24h": -1.44413, "market_cap_change_24h": -6407555916.706726, "market_cap_change_percentage_24h": -1.44337, "circulating_supply": 19108943.0, "total_supply": 21000000.0, "max_supply": 21000000.0, "ath": 59717, "ath_change_percentage": -61.66127, "ath_date": "2021-11-10T14:24:11.849Z", "atl": 51.3, "atl_change_percentage": 44530.38434, "atl_date": "2013-07-05T00:00:00.000Z", "roi": null, "last_updated": "2022-08-01T01:38:19.814Z" }, { "id": "ethereum", "symbol": "eth", "name": "Ethereum", "image": "https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880", "current_price": 1655.62, "market_cap": 198502877944, "market_cap_rank": 2, "fully_diluted_valuation": null, "total_volume": 12719359296, "high_24h": 1705.07, "low_24h": 1637.88, "price_change_24h": -9.7417983362609, "price_change_percentage_24h": -0.58497, "market_cap_change_24h": -1741614173.742096, "market_cap_change_percentage_24h": -0.86974, "circulating_supply": 119908012.929231, "total_supply": 119906767.866731, "max_supply": null, "ath": 4228.93, "ath_change_percentage": -60.85202, "ath_date": "2021-12-01T08:38:24.623Z", "atl": 0.381455, "atl_change_percentage": 433906.37892, "atl_date": "2015-10-20T00:00:00.000Z", "roi": { "times": 95.70492486782878, "currency": "btc", "percentage": 9570.492486782878 }, "last_updated": "2022-08-01T01:38:51.720Z" }, { "id": "tether", "symbol": "usdt", "name": "Tether", "image": "https://assets.coingecko.com/coins/images/325/large/Tether-logo.png?1598003707", "current_price": 0.978291, "market_cap": 64460991994, "market_cap_rank": 3, "fully_diluted_valuation": null, "total_volume": 49035082839, "high_24h": 0.995465, "low_24h": 0.969309, "price_change_24h": 0.00082229, "price_change_percentage_24h": 0.08412, "market_cap_change_24h": 27395808, "market_cap_change_percentage_24h": 0.04252, "circulating_supply": 65876317670.4762, "total_supply": 65876317670.4762, "max_supply": null, "ath": 1.13, "ath_change_percentage": -13.54794, "ath_date": "2018-07-24T00:00:00.000Z", "atl": 0.533096, "atl_change_percentage": 83.51141, "atl_date": "2015-03-02T00:00:00.000Z", "roi": null, "last_updated": "2022-08-01T01:35:39.225Z" }, { "id": "usd-coin", "symbol": "usdc", "name": "USD Coin", "image": "https://assets.coingecko.com/coins/images/6319/large/USD_Coin_icon.png?1547042389", "current_price": 0.978155, "market_cap": 53316314147, "market_cap_rank": 4, "fully_diluted_valuation": null, "total_volume": 6349143412, "high_24h": 0.992575, "low_24h": 0.968113, "price_change_24h": 0.00102232, "price_change_percentage_24h": 0.10463, "market_cap_change_24h": 45922138, "market_cap_change_percentage_24h": 0.08621, "circulating_supply": 54492680182.1159, "total_supply": 54492670093.6195, "max_supply": null, "ath": 1.048, "ath_change_percentage": -6.62858, "ath_date": "2019-05-08T00:40:28.300Z", "atl": 0.730265, "atl_change_percentage": 33.97829, "atl_date": "2021-05-19T13:14:05.611Z", "roi": null, "last_updated": "2022-08-01T01:39:03.512Z" }, { "id": "binancecoin", "symbol": "bnb", "name": "BNB", "image": "https://assets.coingecko.com/coins/images/825/large/bnb-icon2_2x.png?1644979850", "current_price": 282.01, "market_cap": 46071875882, "market_cap_rank": 5, "fully_diluted_valuation": 46591008255, "total_volume": 1287568335, "high_24h": 289.27, "low_24h": 276.48, "price_change_24h": -2.129092162797974, "price_change_percentage_24h": -0.74932, "market_cap_change_24h": -382425262.165596, "market_cap_change_percentage_24h": -0.82323, "circulating_supply": 163276974.63, "total_supply": 163276974.63, "max_supply": 165116760.0, "ath": 583.17, "ath_change_percentage": -51.61477, "ath_date": "2021-11-26T02:58:28.000Z", "atl": 0.03359941, "atl_change_percentage": 839706.7002, "atl_date": "2017-10-19T00:00:00.000Z", "roi": null, "last_updated": "2022-08-01T01:39:16.836Z" }, { "id": "ripple", "symbol": "xrp", "name": "XRP", "image": "https://assets.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png?1605778731", "current_price": 0.376547, "market_cap": 18199780345, "market_cap_rank": 6, "fully_diluted_valuation": 37647109711, "total_volume": 11198539348, "high_24h": 0.389981, "low_24h": 0.372241, "price_change_24h": -0.007199275508817383, "price_change_percentage_24h": -1.87605, "market_cap_change_24h": -375122610.5621033, "market_cap_change_percentage_24h": -2.01951, "circulating_supply": 48343101197.0, "total_supply": 99989535142.0, "max_supply": 100000000000.0, "ath": 2.82, "ath_change_percentage": -86.66751, "ath_date": "2018-01-07T00:00:00.000Z", "atl": 0.00194619, "atl_change_percentage": 19239.30357, "atl_date": "2013-08-16T00:00:00.000Z", "roi": null, "last_updated": "2022-08-01T01:39:03.685Z" }, { "id": "binance-usd", "symbol": "busd", "name": "Binance USD", "image": "https://assets.coingecko.com/coins/images/9576/large/BUSD.png?1568947766", "current_price": 0.97877, "market_cap": 17474329718, "market_cap_rank": 7, "fully_diluted_valuation": null, "total_volume": 5715259588, "high_24h": 0.993347, "low_24h": 0.973537, "price_change_24h": 0.00079463, "price_change_percentage_24h": 0.08125, "market_cap_change_24h": 2857333, "market_cap_change_percentage_24h": 0.01635, "circulating_supply": 17858623546.3, "total_supply": 17858623546.3, "max_supply": null, "ath": 1.032, "ath_change_percentage": -5.19297, "ath_date": "2020-03-13T02:35:42.953Z", "atl": 0.73816, "atl_change_percentage": 32.55631, "atl_date": "2021-05-19T13:04:37.445Z", "roi": null, "last_updated": "2022-08-01T01:39:04.865Z" }, { "id": "cardano", "symbol": "ada", "name": "Cardano", "image": "https://assets.coingecko.com/coins/images/975/large/cardano.png?1547034860", "current_price": 0.513383, "market_cap": 17369993986, "market_cap_rank": 8, "fully_diluted_valuation": 23111876448, "total_volume": 751171440, "high_24h": 0.531754, "low_24h": 0.504854, "price_change_24h": -0.004164438566191642, "price_change_percentage_24h": -0.80465, "market_cap_change_24h": -154786188.60947037, "market_cap_change_percentage_24h": -0.88324, "circulating_supply": 33820262543.95, "total_supply": 45000000000.0, "max_supply": 45000000000.0, "ath": 2.61, "ath_change_percentage": -80.2967, "ath_date": "2021-09-02T06:00:10.474Z", "atl": 0.01722339, "atl_change_percentage": 2881.97508, "atl_date": "2020-03-13T02:22:55.044Z", "roi": null, "last_updated": "2022-08-01T01:39:13.967Z" }, { "id": "solana", "symbol": "sol", "name": "Solana", "image": "https://assets.coingecko.com/coins/images/4128/large/solana.png?1640133422", "current_price": 42.08, "market_cap": 14591128345, "market_cap_rank": 9, "fully_diluted_valuation": null, "total_volume": 1006893746, "high_24h": 43.93, "low_24h": 41.46, "price_change_24h": -0.42807385528946895, "price_change_percentage_24h": -1.00696, "market_cap_change_24h": -188462346.76623535, "market_cap_change_percentage_24h": -1.27515, "circulating_supply": 346159163.846731, "total_supply": 508180963.57, "max_supply": null, "ath": 225.04, "ath_change_percentage": -81.27046, "ath_date": "2021-11-06T21:54:35.825Z", "atl": 0.46316, "atl_change_percentage": 9000.44934, "atl_date": "2020-05-11T19:35:23.449Z", "roi": null, "last_updated": "2022-08-01T01:38:27.750Z" }, { "id": "polkadot", "symbol": "dot", "name": "Polkadot", "image": "https://assets.coingecko.com/coins/images/12171/large/polkadot.png?1639712644", "current_price": 8.67, "market_cap": 9870931481, "market_cap_rank": 10, "fully_diluted_valuation": null, "total_volume": 760973151, "high_24h": 8.98, "low_24h": 7.96, "price_change_24h": 0.544715, "price_change_percentage_24h": 6.70589, "market_cap_change_24h": 622872368, "market_cap_change_percentage_24h": 6.73517, "circulating_supply": 1136732660.25325, "total_supply": 1217681793.14065, "max_supply": null, "ath": 47.6, "ath_change_percentage": -81.72562, "ath_date": "2021-11-04T14:10:09.301Z", "atl": 2.27, "atl_change_percentage": 283.30855, "atl_date": "2020-08-19T03:44:11.556Z", "roi": null, "last_updated": "2022-08-01T01:38:27.966Z" }, { "id": "dogecoin", "symbol": "doge", "name": "Dogecoin", "image": "https://assets.coingecko.com/coins/images/5/large/dogecoin.png?1547792256", "current_price": 0.067765, "market_cap": 8985752977, "market_cap_rank": 11, "fully_diluted_valuation": null, "total_volume": 443776615, "high_24h": 0.070245, "low_24h": 0.066727, "price_change_24h": -0.000811870376565563, "price_change_percentage_24h": -1.18388, "market_cap_change_24h": -126513355.08202744, "market_cap_change_percentage_24h": -1.38839, "circulating_supply": 132670764299.894, "total_supply": null, "max_supply": null, "ath": 0.601466, "ath_change_percentage": -88.73861, "ath_date": "2021-05-08T05:08:23.458Z", "atl": 7.662e-05, "atl_change_percentage": 88305.93626, "atl_date": "2015-05-06T00:00:00.000Z", "roi": null, "last_updated": "2022-08-01T01:38:56.488Z" }, { "id": "matic-network", "symbol": "matic", "name": "Polygon", "image": "https://assets.coingecko.com/coins/images/4713/large/matic-token-icon.png?1624446912", "current_price": 0.921191, "market_cap": 7377015451, "market_cap_rank": 12, "fully_diluted_valuation": 9213433344, "total_volume": 852886795, "high_24h": 0.976302, "low_24h": 0.896444, "price_change_24h": -0.035791049041753786, "price_change_percentage_24h": -3.73999, "market_cap_change_24h": -279031808.59947777, "market_cap_change_percentage_24h": -3.64459, "circulating_supply": 8006803952.62, "total_supply": 10000000000.0, "max_supply": 10000000000.0, "ath": 2.58, "ath_change_percentage": -64.24345, "ath_date": "2021-12-27T02:08:34.307Z", "atl": 0.00280202, "atl_change_percentage": 32783.23412, "atl_date": "2019-05-10T00:00:00.000Z", "roi": { "times": 357.51514500230815, "currency": "usd", "percentage": 35751.51450023081 }, "last_updated": "2022-08-01T01:39:14.416Z" }, { "id": "staked-ether", "symbol": "steth", "name": "Lido Staked Ether", "image": "https://assets.coingecko.com/coins/images/13442/large/steth_logo.png?1608607546", "current_price": 1613.51, "market_cap": 6877617255, "market_cap_rank": 13, "fully_diluted_valuation": 6877696357, "total_volume": 13746975, "high_24h": 1663.64, "low_24h": 1596.34, "price_change_24h": -6.744220669072774, "price_change_percentage_24h": -0.41624, "market_cap_change_24h": -53178633.1601305, "market_cap_change_percentage_24h": -0.76728, "circulating_supply": 4264699.47139809, "total_supply": 4264756.80701197, "max_supply": 4264748.5211896, "ath": 4188.52, "ath_change_percentage": -61.49715, "ath_date": "2021-11-12T02:16:02.325Z", "atl": 394.87, "atl_change_percentage": 308.41737, "atl_date": "2020-12-22T04:08:21.854Z", "roi": null, "last_updated": "2022-08-01T01:39:10.349Z" }, { "id": "shiba-inu", "symbol": "shib", "name": "Shiba Inu", "image": "https://assets.coingecko.com/coins/images/11939/large/shiba.png?1622619446", "current_price": 1.169e-05, "market_cap": 6868876191, "market_cap_rank": 14, "fully_diluted_valuation": null, "total_volume": 431601827, "high_24h": 1.198e-05, "low_24h": 1.146e-05, "price_change_24h": -2.4394016287e-08, "price_change_percentage_24h": -0.20829, "market_cap_change_24h": -42991012.165457726, "market_cap_change_percentage_24h": -0.62199, "circulating_supply": 589380947869097.9, "total_supply": 999991297075192.0, "max_supply": null, "ath": 7.424e-05, "ath_change_percentage": -84.28699, "ath_date": "2021-10-28T03:54:55.568Z", "atl": 4.6962e-11, "atl_change_percentage": 24840628.30268, "atl_date": "2020-12-11T05:57:22.476Z", "roi": null, "last_updated": "2022-08-01T01:39:03.484Z" }, { "id": "dai", "symbol": "dai", "name": "Dai", "image": "https://assets.coingecko.com/coins/images/9956/large/4943.png?1636636734", "current_price": 0.977128, "market_cap": 6817558612, "market_cap_rank": 15, "fully_diluted_valuation": 6817592408, "total_volume": 1166560044, "high_24h": 0.987449, "low_24h": 0.972174, "price_change_24h": -0.000682534123269796, "price_change_percentage_24h": -0.0698, "market_cap_change_24h": -27519097.016981125, "market_cap_change_percentage_24h": -0.40203, "circulating_supply": 6970928564.80042, "total_supply": 6970928564.80042, "max_supply": 6970928564.80042, "ath": 1.088, "ath_change_percentage": -10.08032, "ath_date": "2020-03-13T03:02:50.373Z", "atl": 0.759326, "atl_change_percentage": 28.79826, "atl_date": "2021-05-19T13:05:49.822Z", "roi": null, "last_updated": "2022-08-01T01:35:49.232Z" }, { "id": "avalanche-2", "symbol": "avax", "name": "Avalanche", "image": "https://assets.coingecko.com/coins/images/12559/large/coin-round-red.png?1604021818", "current_price": 23.68, "market_cap": 6734782260, "market_cap_rank": 16, "fully_diluted_valuation": 17053463899, "total_volume": 388485722, "high_24h": 24.51, "low_24h": 23.15, "price_change_24h": -0.1673150920288009, "price_change_percentage_24h": -0.7016, "market_cap_change_24h": -56600893.581041336, "market_cap_change_percentage_24h": -0.83342, "circulating_supply": 284343594.701628, "total_supply": 408436137.72177, "max_supply": 720000000.0, "ath": 128.43, "ath_change_percentage": -81.56155, "ath_date": "2021-11-21T14:18:56.538Z", "atl": 2.28, "atl_change_percentage": 937.58824, "atl_date": "2020-12-31T13:15:21.540Z", "roi": null, "last_updated": "2022-08-01T01:38:49.696Z" }, { "id": "tron", "symbol": "trx", "name": "TRON", "image": "https://assets.coingecko.com/coins/images/1094/large/tron-logo.png?1547035066", "current_price": 0.067902, "market_cap": 6275720125, "market_cap_rank": 17, "fully_diluted_valuation": null, "total_volume": 430196952, "high_24h": 0.069358, "low_24h": 0.067283, "price_change_24h": 3.688e-05, "price_change_percentage_24h": 0.05434, "market_cap_change_24h": -7442895.632529259, "market_cap_change_percentage_24h": -0.11846, "circulating_supply": 92425358033.5429, "total_supply": 101900409184.273, "max_supply": null, "ath": 0.192595, "ath_change_percentage": -64.74448, "ath_date": "2018-01-05T00:00:00.000Z", "atl": 0.00154713, "atl_change_percentage": 4288.81098, "atl_date": "2017-11-12T00:00:00.000Z", "roi": { "times": 35.580159751406725, "currency": "usd", "percentage": 3558.0159751406727 }, "last_updated": "2022-08-01T01:38:40.205Z" }, { "id": "wrapped-bitcoin", "symbol": "wbtc", "name": "Wrapped Bitcoin", "image": "https://assets.coingecko.com/coins/images/7598/large/wrapped_bitcoin_wbtc.png?1548822744", "current_price": 22890, "market_cap": 5419425099, "market_cap_rank": 18, "fully_diluted_valuation": 5419425099, "total_volume": 173338431, "high_24h": 23569, "low_24h": 22759, "price_change_24h": -354.1156717579761, "price_change_percentage_24h": -1.52345, "market_cap_change_24h": -81809669.11269951, "market_cap_change_percentage_24h": -1.48711, "circulating_supply": 236710.1685095, "total_supply": 236710.1685095, "max_supply": 236710.1685095, "ath": 61044, "ath_change_percentage": -62.49299, "ath_date": "2021-11-10T14:40:19.650Z", "atl": 2801.21, "atl_change_percentage": 717.35256, "atl_date": "2019-04-02T00:00:00.000Z", "roi": null, "last_updated": "2022-08-01T01:38:40.823Z" }, { "id": "ethereum-classic", "symbol": "etc", "name": "Ethereum Classic", "image": "https://assets.coingecko.com/coins/images/453/large/ethereum-classic-logo.png?1547034169", "current_price": 35.76, "market_cap": 4884557892, "market_cap_rank": 19, "fully_diluted_valuation": 7562096645, "total_volume": 2082761201, "high_24h": 40.54, "low_24h": 35.74, "price_change_24h": -2.8050438598470606, "price_change_percentage_24h": -7.2735, "market_cap_change_24h": -370751096.368083, "market_cap_change_percentage_24h": -7.05479, "circulating_supply": 136096693.306532, "total_supply": 210700000.0, "max_supply": 210700000.0, "ath": 138.61, "ath_change_percentage": -74.15351, "ath_date": "2021-05-06T18:34:22.133Z", "atl": 0.559997, "atl_change_percentage": 6297.42055, "atl_date": "2016-07-25T00:00:00.000Z", "roi": { "times": 80.33940149099035, "currency": "usd", "percentage": 8033.940149099036 }, "last_updated": "2022-08-01T01:38:36.826Z" }, { "id": "okb", "symbol": "okb", "name": "OKB", "image": "https://assets.coingecko.com/coins/images/4463/large/WeChat_Image_20220118095654.png?1642471050", "current_price": 18.06, "market_cap": 4638428786, "market_cap_rank": 20, "fully_diluted_valuation": null, "total_volume": 16251692, "high_24h": 18.56, "low_24h": 17.78, "price_change_24h": 0.147005, "price_change_percentage_24h": 0.82055, "market_cap_change_24h": 37128494, "market_cap_change_percentage_24h": 0.80691, "circulating_supply": 256388091.38, "total_supply": 300000000.0, "max_supply": null, "ath": 36.57, "ath_change_percentage": -50.52684, "ath_date": "2021-05-03T01:03:16.108Z", "atl": 0.506608, "atl_change_percentage": 3471.08924, "atl_date": "2019-01-14T00:00:00.000Z", "roi": null, "last_updated": "2022-08-01T01:38:51.617Z" }]

export const Carousel = () => {
    const [trending, setTrending] = useState([])
    const { currency } = CurrencyState();
    console.log(data)

    const fetchTrending = async () => {
        // const data = await axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=${currency}&order=market_cap_desc&per_page=20&page=1&sparkline=false`)
        // console.log(data)


        setTrending(data);
    }
    console.log(trending)

    useEffect(() => {
        fetchTrending();
    }, [currency])



    return (
        <div className='flex items-center h-[50%] '>

            <Swiper
                slidesPerView={4}
                spaceBetween={5}
                centeredSlides={true}
                autoplay={{
                    delay: 2000,
                    disableOnInteraction: false,
                }}
                loop={true}
                speed={2800}
                grabCursor={true}
                modules={[Autoplay, Navigation]}
                className="mySwiper"
            >
                {data.map((coin, i) => {
                    return (<SwiperSlide key={i}>{coin.name}</SwiperSlide>)
                })}

            </Swiper>

        </div >
    )
}

